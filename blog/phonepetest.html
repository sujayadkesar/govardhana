---
title: Siddha Grasa
heading: गावः सुरभिर्नो मुर्धन
description: Submit your details and generate a UPI QR code for payment
---

<div class="contact-box" style="display: flex; justify-content: center; align-items: center;">
  <form id="paymentForm" onsubmit="submitForm(event)">
    <label for="name">Full Name</label>
    <input type="text" name="name" id="name" placeholder="Enter your name..." required/>

    <label for="email">Email Address</label>
    <input type="email" name="email" id="email" placeholder="Enter your email..." required />

    <label for="adhar">Aadhar Number</label>
    <input type="text" name="adhar" id="adhar" placeholder="Enter your Aadhar..." required />

    <label for="phone">Phone Number</label>
    <input type="text" name="phone" id="phone" placeholder="Enter your phone number..." required />

    <label for="amount" style="display: none;">Donation for Siddha Grasa</label>
    <input type="text" name="amount" id="amount" value="2000 - Donated for Siddha Grasa" style="display: none;" />

    <input type="submit" value="Submit" />
  </form>

  <div id="confirmationMessage" style="display:none; color: green;">
    <br><br>Form submitted successfully! Kindly generate the QR and complete the payment.
  </div>
</div>

<br><br><br>

<div style="text-align: center;">
  <button 
    id="generateQrButton"
    class="pulse-button"
    style="background-color: #ffd500; padding: 15px 30px; font-size: 18px; 
           border: none; font-weight: bold; cursor: pointer; transition: all 0.3s ease-in-out; 
           color: #050829; border-radius: 8px;">
    Proceed to Pay
  </button>
</div>

<script>
// --- Aadhar Validation (Verhoeff Algorithm) ---
var d = [
    [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [1, 2, 3, 4, 0, 6, 7, 8, 9, 5],
    [2, 3, 4, 0, 1, 7, 8, 9, 5, 6], [3, 4, 0, 1, 2, 8, 9, 5, 6, 7],
    [4, 0, 1, 2, 3, 9, 5, 6, 7, 8], [5, 9, 8, 7, 6, 0, 4, 3, 2, 1],
    [6, 5, 9, 8, 7, 1, 0, 4, 3, 2], [7, 6, 5, 9, 8, 2, 1, 0, 4, 3],
    [8, 7, 6, 5, 9, 3, 2, 1, 0, 4], [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
];
var p = [
    [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [1, 5, 7, 6, 2, 8, 3, 0, 9, 4],
    [5, 8, 0, 3, 7, 9, 6, 1, 4, 2], [8, 9, 1, 6, 0, 4, 3, 5, 2, 7],
    [9, 4, 5, 3, 1, 2, 6, 8, 7, 0], [4, 2, 8, 6, 5, 7, 3, 9, 0, 1],
    [2, 7, 9, 3, 8, 0, 6, 4, 1, 5], [7, 0, 4, 6, 9, 1, 3, 2, 5, 8]
];
var inv = [0, 4, 3, 2, 1, 5, 6, 7, 8, 9];

function invArray(array) {
    if (Object.prototype.toString.call(array) == "[object Number]") {
        array = String(array);
    }
    if (Object.prototype.toString.call(array) == "[object String]") {
        array = array.split("").map(Number);
    }
    return array.reverse();
}

function generate(array) {
    var c = 0;
    var invertedArray = invArray(array);
    for (var i = 0; i < invertedArray.length; i++) {
        c = d[c][p[((i + 1) % 8)][invertedArray[i]]]];
    }
    return inv[c];
}

function validate(array) {
    var c = 0;
    var invertedArray = invArray(array);
    for (var i = 0; i < invertedArray.length; i++) {
        c = d[c][p[(i % 8)][invertedArray[i]]];
    }
    return (c === 0);
}

function validate_adhar(adhar) {
    if (adhar.length === 12 && /^\d+$/.test(adhar)) {
        return validate(adhar);
    }
    return false;
}

// --- Form and Payment Logic ---
let formSubmitted = false;

function validateInputs() {
    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const adhar = document.getElementById('adhar').value;
    const phone = document.getElementById('phone').value;

    if (!name) {
        alert("Please enter your full name.");
        return false;
    }

    const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailPattern.test(email)) {
        alert("Please enter a valid email address.");
        return false;
    }

    if (!validate_adhar(adhar)) {
        alert("Please enter a valid 12-digit Aadhar number.");
        return false;
    }

    const phonePattern = /^[6-9]\d{9}$/;
    if (!phonePattern.test(phone) || /^(\d)\1{9}$/.test(phone)) {
        alert("Please enter a valid 10-digit Indian mobile number.");
        return false;
    }
    return true;
}

function submitForm(event) {
    event.preventDefault();
    if (formSubmitted) {
        alert("You have already submitted the form.");
        return;
    }
    if (!validateInputs()) return;

    const formData = new FormData(document.getElementById("paymentForm"));
    const url = "https://script.google.com/macros/s/AKfycbwE3W4PdSfSve2DrhHPhXMq_7sj453UcSTqDTNjj3AtWduShhRZAk63o3JyIpUqLLrmOw/exec";

    fetch(url, {
        method: "POST",
        body: formData
    })
    .then(response => response.text())
    .then(data => {
        formSubmitted = true;
        document.getElementById("confirmationMessage").style.display = "block";
        document.getElementById("paymentForm").style.display = "none";
    })
    .catch(error => {
        console.error("Error submitting form:", error);
        alert("There was an error submitting your details. Please try again.");
    });
}

function openQrWindow(qrCodeUrl) {
    const qrWindow = window.open('', '_blank', 'width=500,height=600');
    qrWindow.document.write(`
        <html>
        <head><title>UPI Payment QR Code</title></head>
        <body style="display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; font-family: sans-serif;">
            <div style="text-align: center;">
            <h2>Scan to Pay</h2>
            <img src="${qrCodeUrl}" alt="UPI Payment QR Code" style="width: 250px; height: 250px;"/>
            <p>Scan this code with any UPI app to pay.</p>
            </div>
        </body>
        </html>
    `);
}

function redirectToUPIAppOnIOS(amount, transactionNote) {
    const upiId = "govardhanylp@sbi";
    const payeeName = "Siddha Grasa"; // URL encoded: Siddha%20Grasa

    // Construct app-specific URLs
    const baseUpiParams = `pa=${upiId}&pn=${encodeURIComponent(payeeName)}&am=${amount}&cu=INR&tn=${encodeURIComponent(transactionNote)}`;
    const optionsHtml = window.open('', '_blank', 'width=600,height=800');
    optionsHtml.document.write(`
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Payment Options</title>
            <style>
                body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; }
                .payment-container { display: grid; gap: 15px; grid-template-columns: 1fr; margin: 20px auto; max-width: 90%; text-align: center; }
                .payment-button { display: flex; align-items: center; justify-content: center; background-color: #f9f9f9; border: 1px solid #ddd; border-radius: 12px; padding: 15px; text-decoration: none; color: black; box-shadow: 0 4px 6px rgba(0,0,0,0.05); transition: all 0.2s; }
                .payment-button:hover { transform: translateY(-2px); box-shadow: 0 6px 12px rgba(0,0,0,0.1); }
                .payment-button img { width: 40px; height: 40px; margin-right: 15px; }
                .payment-button span { font-size: 1rem; font-weight: 500; }
            </style>
        </head>
        <body>
            <div class="payment-container">
            <h1>Select a UPI App</h1>
            <a href="tez://upi/pay?${baseUpiParams}" class="payment-button"><img src="/images/goooglepay.png" alt="Google Pay"><span>Google Pay</span></a>
            <a href="phonepe://pay?${baseUpiParams}" class="payment-button"><img src="/images/phonepay.png" alt="PhonePe"><span>PhonePe</span></a>
            <a href="paytmmp://upi/pay?${baseUpiParams}" class="payment-button"><img src="/images/paytm.png" alt="Paytm"><span>Paytm</span></a>
            <a href="bhim://upi/pay?${baseUpiParams}" class="payment-button"><img src="/images/bhim-upi-icon-4059309141.png" alt="BHIM"><span>BHIM UPI</span></a>
            </div>
        </body>
        </html>
    `);
    optionsHtml.document.close();
}

function detectDeviceAndProceed(upiData, qrCodeUrl, amount, transactionNote) {
    const userAgent = navigator.userAgent.toLowerCase();
    const isTouchScreen = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
    
    const isAndroid = /android/.test(userAgent);
    const isIos = /iphone|ipad|ipod/.test(userAgent) || (isTouchScreen && /mac os x/.test(userAgent) && navigator.maxTouchPoints > 1);

    if (isAndroid) {
        window.location.href = upiData;
    } else if (isIos) {
        redirectToUPIAppOnIOS(amount, transactionNote);
    } else { // Desktop or other
        openQrWindow(qrCodeUrl);
    }
}

// --- Main Button Event Listener ---
document.getElementById('generateQrButton').onclick = function() {
    if (!formSubmitted) {
        alert("Please submit your details first by clicking the 'Submit' button.");
        return;
    }

    const donorName = document.getElementById('name').value;
    const amount = 2000;
    
    // Standardized parameters
    const upiId = "govardhanylp@sbi";
    const payeeName = "Siddha Grasa"; // Name of the recipient
    const transactionNote = `Donation from ${donorName}`; // A safer, more descriptive note
    
    // Construct the universal UPI link and QR code URL
    const upiData = `upi://pay?pa=${upiId}&pn=${encodeURIComponent(payeeName)}&am=${amount}&cu=INR&tn=${encodeURIComponent(transactionNote)}`;
    const qrCodeUrl = `https://api.qrserver.com/v1/create-qr-code/?size=400x400&data=${encodeURIComponent(upiData)}`;

    detectDeviceAndProceed(upiData, qrCodeUrl, amount, transactionNote);
};
</script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2ZJXCX9BQF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-2ZJXCX9BQF');
</script>
